{"version":3,"sources":["/Users/keisukekido/projects/itunesFetcher/src/containers/Misc/Contexts/FormContext/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;;AAiBA,IAAM,WAAW,GAAG,eAAM,aAAN,CAA4C;AAC9D,EAAA,MAAM,EAAE,EADsD;AAE9D,EAAA,QAAQ,EAAE;AAAA,WAAM,IAAN;AAAA;AAFoD,CAA5C,CAApB;;;;AAKA,IAAM,mBAAmB,GAAwC,SAA3D,mBAA2D,OAI5D;AAAA,MAHH,QAGG,QAHH,QAGG;AAAA,gCAFH,aAEG;AAAA,MAFH,aAEG,mCAFa,EAEb;AAAA,2BADH,QACG;AAAA,MADH,QACG,8BADQ;AAAA,WAAM,IAAN;AAAA,GACR;;AAAA,kBACwB,qBAAS,aAAT,CADxB;AAAA;AAAA,MACI,MADJ;AAAA,MACY,QADZ;;AAGH,wBACE,YAAK;AACH,IAAA,QAAQ,CAAC,MAAD,CAAR;AACD,GAHH,EAIE,CAAC,MAAD,CAJF;AAOA,SACE,eAAA,aAAA,CAAC,WAAW,CAAC,QAAb,EAAqB;AACnB,IAAA,KAAK,EAAE;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,QAAQ,EAAE,wBACR,UAAC,GAAD,EAAM,KAAN;AAAA,eAAgB,QAAQ,mBACnB,MADmB,oCAErB,GAFqB,EAEf,KAFe,GAAxB;AAAA,OADQ,EAKR,CAAC,MAAD,CALQ;AAFL;AADY,GAArB,EAYG,QAZH,CADF;AAgBD,CA9BD","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\n\nexport type FormContextProviderProps = {\n  children: React.ReactNode;\n  initialValues?: FormContextRenderProps['values'];\n  onChange?: (values: FormValues) => void;\n};\n\nexport type FormContextRenderProps<V extends FormValues = FormValues> = {\n  values: V;\n  setValue: (key: string, value: any) => void;\n};\n\nexport type FormValues = (\n  Record<string, any>\n);\n\nconst FormContext = React.createContext<FormContextRenderProps>({\n  values: {},\n  setValue: () => null,\n});\n\nconst FormContextProvider: React.SFC<FormContextProviderProps> = ({\n  children,\n  initialValues = {},\n  onChange = () => null,\n}) => {\n  const [values, setValue] = useState(initialValues);\n\n  useEffect(\n    () => {\n      onChange(values);\n    },\n    [values]\n  );\n\n  return (\n    <FormContext.Provider\n      value={{\n        values,\n        setValue: useCallback(\n          (key, value) => setValue({\n            ...values,\n            [key]: value,\n          }),\n          [values]\n        ),\n      }}\n    >\n      {children}\n    </FormContext.Provider>\n  );\n};\n\nexport {\n  FormContext,\n  FormContextProvider,\n};\n\n"]}