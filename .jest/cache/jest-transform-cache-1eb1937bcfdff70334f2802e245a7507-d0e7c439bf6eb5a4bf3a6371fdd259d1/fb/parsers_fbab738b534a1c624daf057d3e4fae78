7423430a160177f0521dfe27efdc34cd
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseJSON = exports.parseText = exports.parseValue = exports.parseValidStatus = exports.safeParser = void 0;

var conditionals = _interopRequireWildcard(require("./conditionals"));

var safeParser = function safeParser(parser) {
  return function (response) {
    return conditionals.isEmptyStatus(response) ? Promise.resolve(null) : parser(response);
  };
};

exports.safeParser = safeParser;

var parseValidStatus = function parseValidStatus(response) {
  if (conditionals.isSuccessStatus(response)) {
    return response;
  }

  var error = new Error(response.statusText);
  error.response = response;
  throw error;
};

exports.parseValidStatus = parseValidStatus;

var parseValue = function parseValue(response) {
  return conditionals.isEmptyStatus(response) ? null : response;
};

exports.parseValue = parseValue;

var parseText = function parseText(response) {
  return response.text();
};

exports.parseText = parseText;

var parseJSON = function parseJSON(response) {
  return parseText(response).then(function (text) {
    return text ? JSON.parse(text) : {};
  });
};

exports.parseJSON = parseJSON;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rZWlzdWtla2lkby9wcm9qZWN0cy9pdHVuZXNGZXRjaGVyL3NyYy91dGlscy9yZXF1ZXN0L2ZldGNoL3BhcnNlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUlPLElBQU0sVUFBVSxHQUFHLFNBQWIsVUFBYSxDQUFJLE1BQUo7QUFBQSxTQUN4QixVQUFDLFFBQUQ7QUFBQSxXQUNFLFlBQVksQ0FBQyxhQUFiLENBQTJCLFFBQTNCLElBQ0ksT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsSUFBaEIsQ0FESixHQUVJLE1BQU0sQ0FBQyxRQUFELENBSFo7QUFBQSxHQUR3QjtBQUFBLENBQW5COzs7O0FBUUEsSUFBTSxnQkFBZ0IsR0FBRyxTQUFuQixnQkFBbUIsQ0FBQyxRQUFELEVBQXVCO0FBQ3JELE1BQUksWUFBWSxDQUFDLGVBQWIsQ0FBNkIsUUFBN0IsQ0FBSixFQUE0QztBQUMxQyxXQUFPLFFBQVA7QUFDRDs7QUFFRCxNQUFNLEtBQUssR0FBRyxJQUFJLEtBQUosQ0FBVSxRQUFRLENBQUMsVUFBbkIsQ0FBZDtBQUVBLEVBQUEsS0FBSyxDQUFDLFFBQU4sR0FBaUIsUUFBakI7QUFDQSxRQUFNLEtBQU47QUFDRCxDQVRNOzs7O0FBV0EsSUFBTSxVQUFVLEdBQUcsU0FBYixVQUFhLENBQUMsUUFBRDtBQUFBLFNBQ3hCLFlBQVksQ0FBQyxhQUFiLENBQTJCLFFBQTNCLElBQ0ksSUFESixHQUVJLFFBSG9CO0FBQUEsQ0FBbkI7Ozs7QUFNQSxJQUFNLFNBQVMsR0FBRyxTQUFaLFNBQVksQ0FBQyxRQUFEO0FBQUEsU0FDdkIsUUFBUSxDQUFDLElBQVQsRUFEdUI7QUFBQSxDQUFsQjs7OztBQUlBLElBQU0sU0FBUyxHQUFHLFNBQVosU0FBWSxDQUFDLFFBQUQ7QUFBQSxTQUN2QixTQUFTLENBQUMsUUFBRCxDQUFULENBQ0csSUFESCxDQUNRLFVBQUEsSUFBSTtBQUFBLFdBQ1IsSUFBSSxHQUNGLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBWCxDQURFLEdBRUYsRUFITTtBQUFBLEdBRFosQ0FEdUI7QUFBQSxDQUFsQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVycm9yV2l0aFJlc3BvbnNlIH0gZnJvbSAndHlwZXMvcmVxdWVzdCc7XG5pbXBvcnQgKiBhcyBjb25kaXRpb25hbHMgZnJvbSAnLi9jb25kaXRpb25hbHMnO1xuXG5leHBvcnQgdHlwZSBQYXJzZXI8UmVzdWx0PiA9IChyZXNwb25lczogUmVzcG9uc2UpID0+IFByb21pc2U8UmVzdWx0PjtcblxuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZXIgPSA8Vj4ocGFyc2VyOiBQYXJzZXI8Vj4pID0+IChcbiAgKHJlc3BvbnNlOiBSZXNwb25zZSk6IFByb21pc2U8ViB8IG51bGw+ID0+IChcbiAgICBjb25kaXRpb25hbHMuaXNFbXB0eVN0YXR1cyhyZXNwb25zZSlcbiAgICAgID8gUHJvbWlzZS5yZXNvbHZlKG51bGwpXG4gICAgICA6IHBhcnNlcihyZXNwb25zZSlcbiAgKVxuKTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVmFsaWRTdGF0dXMgPSAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gIGlmIChjb25kaXRpb25hbHMuaXNTdWNjZXNzU3RhdHVzKHJlc3BvbnNlKSkge1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpIGFzIEVycm9yV2l0aFJlc3BvbnNlO1xuXG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHRocm93IGVycm9yO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVmFsdWUgPSAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiAoXG4gIGNvbmRpdGlvbmFscy5pc0VtcHR5U3RhdHVzKHJlc3BvbnNlKVxuICAgID8gbnVsbFxuICAgIDogcmVzcG9uc2Vcbik7XG5cbmV4cG9ydCBjb25zdCBwYXJzZVRleHQgPSAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiAoXG4gIHJlc3BvbnNlLnRleHQoKVxuKTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlSlNPTiA9IChyZXNwb25zZTogUmVzcG9uc2UpID0+IChcbiAgcGFyc2VUZXh0KHJlc3BvbnNlKVxuICAgIC50aGVuKHRleHQgPT4gKFxuICAgICAgdGV4dFxuICAgICAgPyBKU09OLnBhcnNlKHRleHQpXG4gICAgICA6IHt9XG4gICAgKSlcbik7XG4iXX0=